<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MusicMind</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="logo-favicon.png">

</head>
<body>
    <section>
        <header>
            <h2><img style="max-height: 80px;" src="logo-wave.png"><a href="#" class="logo">Music<span id="light-blue">Mind</span></a></h2>
            <div class="navigation">
                <a href="about.html">About</a>
                <a href="contact.html" >Contact</a>
            </div>
        </header>
        <div class="content">
            <div class="info">
                <h2>YOUR MUSIC CATALOG</h2>
                <h2>TAGGED YOUR WAY</h2>
                <p>We empower catalog owners to quickly find <br>the right music with custom tagging</p>
                <form name="submit-to-google-sheet">
                    <input type="email" name="email" placeholder="Join our mailing list" required>
                    <button type="submit" class="icon-buttons"><img src="mail.png" alt="subscribe button" height="50px;"></button>
                </form>
                <span id="tymsg"></span>
            </div>

        </div>

    </section>
    <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbzFhyeR1Cpx1RRlqVyxHW9RkZCWcS3qFi5lcbvw2ot3sj9Sh0k2LxUk5jHOHEYHDWY/exec'
    const form = document.forms['submit-to-google-sheet']
    const msg = document.getElementById("tymsg")
    
    form.addEventListener('submit', e => {
        e.preventDefault()
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
        .then(response => {
            msg.innerHTML = "Thank you for subscribing!"
            setTimeout(function(){
                msg.innerHTML = ""
            }, 5000)
            form.reset()
        })
        .catch(error => console.error('Error!', error.message))
    })
    </script>
</body>
</html>
